{"ast":null,"code":"import _classCallCheck from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{hideEdit,editMessage}from\"../actions/messageActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Modal=/*#__PURE__*/function(_Component){_inherits(Modal,_Component);var _super=_createSuper(Modal);function Modal(props){var _this;_classCallCheck(this,Modal);_this=_super.call(this,props);_this.inputHandlerEdit=function(e){var text=e.target.value;_this.setState({editedMsg:{id:_this.props.editMsg.id,text:text}});};_this.editText=function(){_this.props.editMessage(_this.state.editedMsg);_this.props.hideEdit();_this.state.editedMsg.text=\"\";};_this.state={editedMsg:{id:\"\",text:\"\"}};return _this;}_createClass(Modal,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({editedMsg:{id:\"\",text:this.props.editMsg.text}});}},{key:\"render\",value:function render(){var _this2=this;if(this.props.editMsg){if(this.props.editMsg.editMsg){return/*#__PURE__*/_jsxs(\"div\",{className:\"modal flex flex-drctCol flex-vertCntr flex-spcarrnd flex-horCntr\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit message\"}),/*#__PURE__*/_jsx(\"input\",{className:\"editMsg-input\",type:\"textarea\",name:\"Edit message\",placeholder:this.props.editMsg.text,onChange:function onChange(e){return _this2.inputHandlerEdit(e);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"editMsg-buttonDiv flex flex-vertCntr flex-spcbtwn \",children:[/*#__PURE__*/_jsx(\"button\",{className:\"editMsg-button chat-msg_button\",type:\"button\",onClick:this.editText,children:\"Ok\"}),/*#__PURE__*/_jsx(\"button\",{className:\"editMsg-button chat-msg_button\",type:\"button\",onClick:this.props.hideEdit,children:\"Cancel\"})]})]});}else{return null;}}else{return null;}}}]);return Modal;}(Component);var mapStateToProps=function mapStateToProps(state){return{editMsg:state.chat.editMsg};};var mapDispatchToProps={hideEdit:hideEdit,editMessage:editMessage};export default connect(mapStateToProps,mapDispatchToProps)(Modal);","map":{"version":3,"sources":["/home/yarik/Documents/binary/react-stage1/part2/src/components/Chat/Modal.js"],"names":["React","Component","connect","hideEdit","editMessage","Modal","props","inputHandlerEdit","e","text","target","value","setState","editedMsg","id","editMsg","editText","state","mapStateToProps","chat","mapDispatchToProps"],"mappings":"woBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,2BAAtC,C,2FAEMC,CAAAA,K,8FACJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EADiB,MAmBnBC,gBAnBmB,CAmBA,SAACC,CAAD,CAAO,CACxB,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAtB,CACA,MAAKC,QAAL,CAAc,CACZC,SAAS,CAAE,CACTC,EAAE,CAAE,MAAKR,KAAL,CAAWS,OAAX,CAAmBD,EADd,CAETL,IAAI,CAAEA,IAFG,CADC,CAAd,EAMD,CA3BkB,OA6BnBO,QA7BmB,CA6BR,UAAM,CACf,MAAKV,KAAL,CAAWF,WAAX,CAAuB,MAAKa,KAAL,CAAWJ,SAAlC,EACA,MAAKP,KAAL,CAAWH,QAAX,GACA,MAAKc,KAAL,CAAWJ,SAAX,CAAqBJ,IAArB,CAA4B,EAA5B,CACD,CAjCkB,CAEjB,MAAKQ,KAAL,CAAa,CACXJ,SAAS,CAAE,CACTC,EAAE,CAAE,EADK,CAETL,IAAI,CAAE,EAFG,CADA,CAAb,CAFiB,aAQlB,C,mDAED,4BAAoB,CAClB,KAAKG,QAAL,CAAc,CACZC,SAAS,CAAE,CACTC,EAAE,CAAE,EADK,CAETL,IAAI,CAAE,KAAKH,KAAL,CAAWS,OAAX,CAAmBN,IAFhB,CADC,CAAd,EAMD,C,sBAiBD,iBAAS,iBACP,GAAI,KAAKH,KAAL,CAAWS,OAAf,CAAwB,CACtB,GAAI,KAAKT,KAAL,CAAWS,OAAX,CAAmBA,OAAvB,CAAgC,CAC9B,mBACE,aAAK,SAAS,CAAC,kEAAf,wBACE,oCADF,cAEE,cACE,SAAS,CAAC,eADZ,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,cAHP,CAIE,WAAW,CAAE,KAAKT,KAAL,CAAWS,OAAX,CAAmBN,IAJlC,CAKE,QAAQ,CAAE,kBAACD,CAAD,QAAO,CAAA,MAAI,CAACD,gBAAL,CAAsBC,CAAtB,CAAP,EALZ,EAFF,cASE,aAAK,SAAS,CAAC,oDAAf,wBACE,eACE,SAAS,CAAC,gCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,KAAKQ,QAHhB,gBADF,cAQE,eACE,SAAS,CAAC,gCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,KAAKV,KAAL,CAAWH,QAHtB,oBARF,GATF,GADF,CA4BD,CA7BD,IA6BO,CACL,MAAO,KAAP,CACD,CACF,CAjCD,IAiCO,CACL,MAAO,KAAP,CACD,CACF,C,mBAxEiBF,S,EAiFpB,GAAMiB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACD,KAAD,CAAW,CACjC,MAAO,CACLF,OAAO,CAAEE,KAAK,CAACE,IAAN,CAAWJ,OADf,CAAP,CAGD,CAJD,CAKA,GAAMK,CAAAA,kBAAkB,CAAG,CACzBjB,QAAQ,CAARA,QADyB,CAEzBC,WAAW,CAAXA,WAFyB,CAA3B,CAKA,cAAeF,CAAAA,OAAO,CAACgB,eAAD,CAAkBE,kBAAlB,CAAP,CAA6Cf,KAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from 'prop-types';\nimport { hideEdit, editMessage } from \"../actions/messageActions\";\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editedMsg: {\n        id: \"\",\n        text: \"\",\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      editedMsg: {\n        id: \"\",\n        text: this.props.editMsg.text,\n      },\n    });\n  }\n\n  inputHandlerEdit = (e) => {\n    const text = e.target.value;\n    this.setState({\n      editedMsg: {\n        id: this.props.editMsg.id,\n        text: text,\n      },\n    });\n  };\n\n  editText = () => {\n    this.props.editMessage(this.state.editedMsg);\n    this.props.hideEdit();\n    this.state.editedMsg.text = \"\";\n  };\n  render() {\n    if (this.props.editMsg) {\n      if (this.props.editMsg.editMsg) {\n        return (\n          <div className=\"modal flex flex-drctCol flex-vertCntr flex-spcarrnd flex-horCntr\">\n            <h2>Edit message</h2>\n            <input\n              className=\"editMsg-input\"\n              type=\"textarea\"\n              name=\"Edit message\"\n              placeholder={this.props.editMsg.text}\n              onChange={(e) => this.inputHandlerEdit(e)}\n            />\n            <div className=\"editMsg-buttonDiv flex flex-vertCntr flex-spcbtwn \">\n              <button\n                className=\"editMsg-button chat-msg_button\"\n                type=\"button\"\n                onClick={this.editText}\n              >\n                Ok\n              </button>\n              <button\n                className=\"editMsg-button chat-msg_button\"\n                type=\"button\"\n                onClick={this.props.hideEdit}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        );\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n}\n\nModal.propTypes = {\n  editMsg: PropTypes.object,\n  hideEdit: PropTypes.func,\n  editMessage: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    editMsg: state.chat.editMsg,\n  };\n};\nconst mapDispatchToProps = {\n  hideEdit,\n  editMessage,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n"]},"metadata":{},"sourceType":"module"}