{"ast":null,"code":"import _classCallCheck from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{addFetchedMessage,deleteMessage,showEdit}from\"../actions/messageActions\";import{changeHeaderData}from\"../actions/headerActions\";import Header from\"./Header\";import MessageList from\"./MessageList\";import MessageInput from\"./MessageInput\";import Modal from\"./Modal\";import Spiner from\"../animatedElem/Spiner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=/*#__PURE__*/function(_Component){_inherits(Chat,_Component);var _super=_createSuper(Chat);function Chat(props){var _this;_classCallCheck(this,Chat);_this=_super.call(this,props);_this.state={roomInform:{roomName:\"My chat\",numberUsers:0,numberMessages:0,lastMessageDate:\"0\"},messages:[],myInform:{userId:\"61325\",avatar:\"https://resizing.flixster.com/EVAkglctn7E9B0hVKJrueplabuQ=/220x196/v1.cjs0NjYwNjtqOzE4NDk1OzEyMDA7MjIwOzE5Ng\",user:\"Wendy\"},edtMsg:{id:\"\",editMsg:false,text:\"\"}};return _this;}_createClass(Chat,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"https://edikdolynskyi.github.io/react_sources/messages.json\").then(function(response){return response.json();}).then(function(data){_this2.props.addFetchedMessage(data);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"pad-lr_chat\",children:[/*#__PURE__*/_jsx(Modal,{}),/*#__PURE__*/_jsx(Header,{roomInfo:this.props.headerInform}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-messageWndw marg-t_20px\",children:this.props.messages.length!==0?/*#__PURE__*/_jsx(MessageList,{messages:this.props.messages,myId:this.props.myInform.userId,deleteMessage:this.props.deleteMessage,clickToEdit:this.props.showEdit}):/*#__PURE__*/_jsx(Spiner,{})}),/*#__PURE__*/_jsx(MessageInput,{addMessage:this.props.addMessage})]});}}]);return Chat;}(Component);var mapStateToProps=function mapStateToProps(state){return{messages:state.chat.messages,myInform:state.chat.myInform,headerInform:state.header};};var mapDispatchToProps={addFetchedMessage:addFetchedMessage,deleteMessage:deleteMessage,showEdit:showEdit};export default connect(mapStateToProps,mapDispatchToProps)(Chat);","map":{"version":3,"sources":["/home/yarik/Documents/binary/react-stage1/part2/src/components/Chat/Chat.js"],"names":["React","Component","connect","addFetchedMessage","deleteMessage","showEdit","changeHeaderData","Header","MessageList","MessageInput","Modal","Spiner","Chat","props","state","roomInform","roomName","numberUsers","numberMessages","lastMessageDate","messages","myInform","userId","avatar","user","edtMsg","id","editMsg","text","fetch","then","response","json","data","headerInform","length","addMessage","mapStateToProps","chat","header","mapDispatchToProps"],"mappings":"woBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CAGA,OAASC,iBAAT,CAA4BC,aAA5B,CAA2CC,QAA3C,KAA2D,2BAA3D,CACA,OAASC,gBAAT,KAAiC,0BAAjC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,C,2FAEMC,CAAAA,I,4FACJ,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,UAAU,CAAE,CACVC,QAAQ,CAAE,SADA,CAEVC,WAAW,CAAE,CAFH,CAGVC,cAAc,CAAE,CAHN,CAIVC,eAAe,CAAE,GAJP,CADD,CAOXC,QAAQ,CAAE,EAPC,CAQXC,QAAQ,CAAE,CACRC,MAAM,CAAE,OADA,CAERC,MAAM,CACJ,8GAHM,CAIRC,IAAI,CAAE,OAJE,CARC,CAcXC,MAAM,CAAE,CACNC,EAAE,CAAE,EADE,CAENC,OAAO,CAAE,KAFH,CAGNC,IAAI,CAAE,EAHA,CAdG,CAAb,CAFiB,aAsBlB,C,kDAED,4BAAoB,iBAClBC,KAAK,CAAC,6DAAD,CAAL,CACGC,IADH,CACQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACd,MAAI,CAACpB,KAAL,CAAWV,iBAAX,CAA6B8B,IAA7B,EACD,CAJH,EAKD,C,sBAED,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,KAAC,KAAD,IADF,cAEE,KAAC,MAAD,EAAQ,QAAQ,CAAE,KAAKpB,KAAL,CAAWqB,YAA7B,EAFF,cAGE,YAAK,SAAS,CAAC,8BAAf,UACG,KAAKrB,KAAL,CAAWO,QAAX,CAAoBe,MAApB,GAA+B,CAA/B,cACC,KAAC,WAAD,EACE,QAAQ,CAAE,KAAKtB,KAAL,CAAWO,QADvB,CAEE,IAAI,CAAE,KAAKP,KAAL,CAAWQ,QAAX,CAAoBC,MAF5B,CAGE,aAAa,CAAE,KAAKT,KAAL,CAAWT,aAH5B,CAIE,WAAW,CAAE,KAAKS,KAAL,CAAWR,QAJ1B,EADD,cAQC,KAAC,MAAD,IATJ,EAHF,cAeE,KAAC,YAAD,EAAc,UAAU,CAAE,KAAKQ,KAAL,CAAWuB,UAArC,EAfF,GADF,CAmBD,C,kBArDgBnC,S,EAiEnB,GAAMoC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACvB,KAAD,CAAW,CACjC,MAAO,CACLM,QAAQ,CAAEN,KAAK,CAACwB,IAAN,CAAWlB,QADhB,CAELC,QAAQ,CAAEP,KAAK,CAACwB,IAAN,CAAWjB,QAFhB,CAGLa,YAAY,CAAEpB,KAAK,CAACyB,MAHf,CAAP,CAKD,CAND,CAOA,GAAMC,CAAAA,kBAAkB,CAAG,CACzBrC,iBAAiB,CAAjBA,iBADyB,CAEzBC,aAAa,CAAbA,aAFyB,CAGzBC,QAAQ,CAARA,QAHyB,CAA3B,CAKA,cAAeH,CAAAA,OAAO,CAACmC,eAAD,CAAkBG,kBAAlB,CAAP,CAA6C5B,IAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from 'prop-types';\n\nimport { addFetchedMessage, deleteMessage, showEdit } from \"../actions/messageActions\";\nimport { changeHeaderData } from \"../actions/headerActions\";\n\nimport Header from \"./Header\";\nimport MessageList from \"./MessageList\";\nimport MessageInput from \"./MessageInput\";\nimport Modal from \"./Modal\";\nimport Spiner from \"../animatedElem/Spiner\";\n\nclass Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      roomInform: {\n        roomName: \"My chat\",\n        numberUsers: 0,\n        numberMessages: 0,\n        lastMessageDate: \"0\",\n      },\n      messages: [],\n      myInform: {\n        userId: \"61325\",\n        avatar:\n          \"https://resizing.flixster.com/EVAkglctn7E9B0hVKJrueplabuQ=/220x196/v1.cjs0NjYwNjtqOzE4NDk1OzEyMDA7MjIwOzE5Ng\",\n        user: \"Wendy\",\n      },\n      edtMsg: {\n        id: \"\",\n        editMsg: false,\n        text: \"\",\n      },\n    };\n  }\n  \n  componentDidMount() {\n    fetch(\"https://edikdolynskyi.github.io/react_sources/messages.json\")\n      .then((response) => response.json())\n      .then((data) => {\n        this.props.addFetchedMessage(data);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"pad-lr_chat\">\n        <Modal />\n        <Header roomInfo={this.props.headerInform} />\n        <div className=\"chat-messageWndw marg-t_20px\">\n          {this.props.messages.length !== 0 ? (\n            <MessageList\n              messages={this.props.messages}\n              myId={this.props.myInform.userId}\n              deleteMessage={this.props.deleteMessage}\n              clickToEdit={this.props.showEdit}\n            />\n          ) : (\n            <Spiner />\n          )}\n        </div>\n        <MessageInput addMessage={this.props.addMessage} />\n      </div>\n    );\n  }\n}\n\nChat.propTypes = {\n  messages: PropTypes.array,\n  myInform: PropTypes.object,\n  headerInform: PropTypes.object,\n  addFetchedMessage: PropTypes.func,\n  deleteMessages: PropTypes.func,\n  showEdit:PropTypes.func\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    messages: state.chat.messages,\n    myInform: state.chat.myInform,\n    headerInform: state.header,\n  };\n};\nconst mapDispatchToProps = {\n  addFetchedMessage,\n  deleteMessage,\n  showEdit\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n"]},"metadata":{},"sourceType":"module"}