{"ast":null,"code":"import _classCallCheck from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/yarik/Documents/binary/react-stage1/part2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{addMessage,showEdit}from\"../actions/messageActions\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MessageInput=/*#__PURE__*/function(_Component){_inherits(MessageInput,_Component);var _super=_createSuper(MessageInput);function MessageInput(props){var _this;_classCallCheck(this,MessageInput);_this=_super.call(this,props);_this.inputHandlerNew=function(e){var text=e.target.value.trim();var id=uuidv4();var date=new Date();_this.setState({msg:{text:text,id:id,createdAt:date.toString()}});};_this.sendText=function(){if(_this.state.msg.text){_this.props.addMessage(_this.state.msg);_this.state.msg.text=\"\";}};_this.state={msg:{id:\"\",text:\"\",createdAt:\"\"},editedMsg:{id:\"\",text:\"\"}};return _this;}_createClass(MessageInput,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pad-lr_30px chat-msg_submit flex flex-vertCntr\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"chat-msg_input\",type:\"text\",name:\"message\",placeholder:\"Message\",value:this.state.msg.text,onChange:function onChange(e){return _this2.inputHandlerNew(e);}}),/*#__PURE__*/_jsx(\"button\",{className:\"chat-msg_button\",onClick:this.sendText,children:\"Send\"}),/*#__PURE__*/_jsx(\"button\",{className:\"chat-msg_button editButton_size\",onClick:function onClick(){return _this2.props.showEdit();},children:\"\\u2B06\"})]})});}}]);return MessageInput;}(Component);var mapStateToProps=function mapStateToProps(state){return{messages:state.chat.messages};};var mapDispatchToProps={addMessage:addMessage,showEdit:showEdit};export default connect(mapStateToProps,mapDispatchToProps)(MessageInput);","map":{"version":3,"sources":["/home/yarik/Documents/binary/react-stage1/part2/src/components/Chat/MessageInput.js"],"names":["React","Component","connect","addMessage","showEdit","v4","uuidv4","MessageInput","props","inputHandlerNew","e","text","target","value","trim","id","date","Date","setState","msg","createdAt","toString","sendText","state","editedMsg","mapStateToProps","messages","chat","mapDispatchToProps"],"mappings":"woBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,2BAArC,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,C,2FAEMC,CAAAA,Y,4GACJ,sBAAYC,KAAZ,CAAmB,8CACjB,uBAAMA,KAAN,EADiB,MAcnBC,eAdmB,CAcD,SAACC,CAAD,CAAO,CACvB,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeC,IAAf,EAAb,CACA,GAAMC,CAAAA,EAAE,CAAGT,MAAM,EAAjB,CACA,GAAMU,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,EAAb,CACA,MAAKC,QAAL,CAAc,CACZC,GAAG,CAAE,CACHR,IAAI,CAAEA,IADH,CAEHI,EAAE,CAAEA,EAFD,CAGHK,SAAS,CAAEJ,IAAI,CAACK,QAAL,EAHR,CADO,CAAd,EAOD,CAzBkB,OA2BnBC,QA3BmB,CA2BR,UAAM,CACf,GAAI,MAAKC,KAAL,CAAWJ,GAAX,CAAeR,IAAnB,CAAyB,CACvB,MAAKH,KAAL,CAAWL,UAAX,CAAsB,MAAKoB,KAAL,CAAWJ,GAAjC,EACA,MAAKI,KAAL,CAAWJ,GAAX,CAAeR,IAAf,CAAsB,EAAtB,CACD,CACF,CAhCkB,CAEjB,MAAKY,KAAL,CAAa,CACXJ,GAAG,CAAE,CACHJ,EAAE,CAAE,EADD,CAEHJ,IAAI,CAAE,EAFH,CAGHS,SAAS,CAAE,EAHR,CADM,CAMXI,SAAS,CAAE,CACTT,EAAE,CAAE,EADK,CAETJ,IAAI,CAAE,EAFG,CANA,CAAb,CAFiB,aAalB,C,+CAqBD,iBAAS,iBACP,mBACE,kCACE,aAAK,SAAS,CAAC,gDAAf,wBACE,cACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,SAHP,CAIE,WAAW,CAAC,SAJd,CAKE,KAAK,CAAE,KAAKY,KAAL,CAAWJ,GAAX,CAAeR,IALxB,CAME,QAAQ,CAAE,kBAACD,CAAD,QAAO,CAAA,MAAI,CAACD,eAAL,CAAqBC,CAArB,CAAP,EANZ,EADF,cASE,eAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,KAAKY,QAAlD,kBATF,cAYE,eAAQ,SAAS,CAAC,iCAAlB,CAAoD,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACd,KAAL,CAAWJ,QAAX,EAAJ,EAA7D,oBAZF,GADF,EADF,CAkBD,C,0BAtDwBH,S,EA+D3B,GAAMwB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACF,KAAD,CAAW,CACjC,MAAO,CACLG,QAAQ,CAAEH,KAAK,CAACI,IAAN,CAAWD,QADhB,CAAP,CAGD,CAJD,CAKA,GAAME,CAAAA,kBAAkB,CAAG,CACzBzB,UAAU,CAAVA,UADyB,CAEzBC,QAAQ,CAARA,QAFyB,CAA3B,CAKA,cAAeF,CAAAA,OAAO,CAACuB,eAAD,CAAkBG,kBAAlB,CAAP,CAA6CrB,YAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from 'prop-types';\nimport { addMessage, showEdit } from \"../actions/messageActions\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nclass MessageInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      msg: {\n        id: \"\",\n        text: \"\",\n        createdAt: \"\",\n      },\n      editedMsg: {\n        id: \"\",\n        text: \"\",\n      },\n    };\n  }\n  inputHandlerNew = (e) => {\n    const text = e.target.value.trim();\n    const id = uuidv4();\n    const date = new Date();\n    this.setState({\n      msg: {\n        text: text,\n        id: id,\n        createdAt: date.toString(),\n      },\n    });\n  };\n\n  sendText = () => {\n    if (this.state.msg.text) {\n      this.props.addMessage(this.state.msg);\n      this.state.msg.text = \"\";\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"pad-lr_30px chat-msg_submit flex flex-vertCntr\">\n          <input\n            className=\"chat-msg_input\"\n            type=\"text\"\n            name=\"message\"\n            placeholder=\"Message\"\n            value={this.state.msg.text}\n            onChange={(e) => this.inputHandlerNew(e)}\n          />\n          <button className=\"chat-msg_button\" onClick={this.sendText}>\n            Send\n          </button>\n          <button className=\"chat-msg_button editButton_size\" onClick={()=>this.props.showEdit()}>&#11014;</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nMessageInput.propTypes = {\n  messages: PropTypes.array,\n  addMessage: PropTypes.func,\n  showEdit: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    messages: state.chat.messages,\n  };\n};\nconst mapDispatchToProps = {\n  addMessage,\n  showEdit\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MessageInput);\n"]},"metadata":{},"sourceType":"module"}