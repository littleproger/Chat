{"ast":null,"code":"import { CHANGE_HEADER_DATA } from '../actions/actionsType';\nconst initialState = {\n  roomName: \"My chat\",\n  numberUsers: 0,\n  numberMessages: 0,\n  lastMessageDate: \"0\"\n};\nconst allUserId = this.state.messages.map(msg => {\n  return msg.userId;\n});\nconst messagesLength = this.state.messages.length;\nconst users = new Set(allUserId);\nconst createdAt = new Date(this.state.messages[messagesLength - 1].createdAt).toLocaleDateString().split('.');\nconst today = new Date().toLocaleDateString().split('.');\nlet lastMsgTime = createdAt.join('.').slice(0, 5);\n\nif (createdAt[2] !== today[2]) {\n  lastMsgTime = createdAt.join('.');\n}\n\nthis.setState({\n  roomInform: {\n    roomName: \"My chat\",\n    numberMessages: messagesLength,\n    numberUsers: users.size,\n    lastMessageDate: lastMsgTime\n  }\n});\nexport function headerReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_HEADER_DATA:\n      return state;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/yarik/Documents/binary/react-stage1/part2/src/components/reducers/headerReducer.js"],"names":["CHANGE_HEADER_DATA","initialState","roomName","numberUsers","numberMessages","lastMessageDate","allUserId","state","messages","map","msg","userId","messagesLength","length","users","Set","createdAt","Date","toLocaleDateString","split","today","lastMsgTime","join","slice","setState","roomInform","size","headerReducer","action","type"],"mappings":"AAAA,SAAQA,kBAAR,QAAiC,wBAAjC;AACA,MAAMC,YAAY,GAAC;AACXC,EAAAA,QAAQ,EAAE,SADC;AAEXC,EAAAA,WAAW,EAAE,CAFF;AAGXC,EAAAA,cAAc,EAAE,CAHL;AAIXC,EAAAA,eAAe,EAAE;AAJN,CAAnB;AAOA,MAAMC,SAAS,GAAG,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,GAApB,CAAyBC,GAAD,IAAS;AAC7C,SAAOA,GAAG,CAACC,MAAX;AACD,CAFa,CAAlB;AAII,MAAMC,cAAc,GAAG,KAAKL,KAAL,CAAWC,QAAX,CAAoBK,MAA3C;AACA,MAAMC,KAAK,GAAG,IAAIC,GAAJ,CAAQT,SAAR,CAAd;AAEA,MAAMU,SAAS,GAAG,IAAIC,IAAJ,CAChB,KAAKV,KAAL,CAAWC,QAAX,CAAoBI,cAAc,GAAG,CAArC,EAAwCI,SADxB,EAEhBE,kBAFgB,GAEKC,KAFL,CAEW,GAFX,CAAlB;AAGA,MAAMC,KAAK,GAAG,IAAIH,IAAJ,GAAWC,kBAAX,GAAgCC,KAAhC,CAAsC,GAAtC,CAAd;AAEA,IAAIE,WAAW,GAAGL,SAAS,CAACM,IAAV,CAAe,GAAf,EAAoBC,KAApB,CAA0B,CAA1B,EAA4B,CAA5B,CAAlB;;AACA,IAAIP,SAAS,CAAC,CAAD,CAAT,KAAiBI,KAAK,CAAC,CAAD,CAA1B,EAA8B;AAC5BC,EAAAA,WAAW,GAAGL,SAAS,CAACM,IAAV,CAAe,GAAf,CAAd;AACD;;AAED,KAAKE,QAAL,CAAc;AACZC,EAAAA,UAAU,EAAE;AACVvB,IAAAA,QAAQ,EAAE,SADA;AAEVE,IAAAA,cAAc,EAAEQ,cAFN;AAGVT,IAAAA,WAAW,EAAEW,KAAK,CAACY,IAHT;AAIVrB,IAAAA,eAAe,EAAEgB;AAJP;AADA,CAAd;AASJ,OAAO,SAASM,aAAT,CAAuBpB,KAAK,GAACN,YAA7B,EAA0C2B,MAA1C,EAAiD;AACpD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK7B,kBAAL;AACI,aAAOO,KAAP;;AAEJ;AACI,aAAOA,KAAP;AALR;AAOH","sourcesContent":["import {CHANGE_HEADER_DATA} from '../actions/actionsType';\nconst initialState={\n        roomName: \"My chat\",\n        numberUsers: 0,\n        numberMessages: 0,\n        lastMessageDate: \"0\",\n};\n\nconst allUserId = this.state.messages.map((msg) => {\n      return msg.userId;\n    });\n\n    const messagesLength = this.state.messages.length;\n    const users = new Set(allUserId);\n\n    const createdAt = new Date(\n      this.state.messages[messagesLength - 1].createdAt\n    ).toLocaleDateString().split('.');\n    const today = new Date().toLocaleDateString().split('.');\n\n    let lastMsgTime = createdAt.join('.').slice(0,5);\n    if (createdAt[2] !== today[2]){\n      lastMsgTime = createdAt.join('.');\n    }\n\n    this.setState({\n      roomInform: {\n        roomName: \"My chat\",\n        numberMessages: messagesLength,\n        numberUsers: users.size,\n        lastMessageDate: lastMsgTime\n      },\n    });\n\nexport function headerReducer(state=initialState,action){\n    switch (action.type) {\n        case CHANGE_HEADER_DATA:\n            return state;\n    \n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}